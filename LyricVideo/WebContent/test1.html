<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

<script src="./js/jquery/jquery-3.1.0.min.js"></script>
<script src="./js/animation1.js"></script>
<script src="./js/main.js"></script>
<script src="./js/testInitiation.js"></script>

<link rel="stylesheet" href="css/page.css" media="screen" />

<style>
#backgroundImageContainer {
	position: absolute;
	top: 30px;
	left: 0px; 
	width : 1920px;
	height: 1080px;
	background-image: url('./images/savanna.jpg');
	width: 1920px;
	z-index:-999;
}
</style>

</head>
<body>

	<div id="controls">
		<input id="frameRange" type="range" min=0 max=10000 value=2000></input>
		<input id="frameValue" type="text" value="0"></input>
	</div>




	<canvas id="canvas"></canvas>



	<script>
		//Has to run before the document is ready, otherwise phantomJS misses it

		//Parse the JSON lyrics in to objects
		lyricsObject = JSON.parse(HARD_CODED_LYRICS);

		//Get reference to the canvas and context
		canvas = document.getElementById('canvas');
		ctx = canvas.getContext('2d');

		//Get parameters passed in from the URL
		frameNumber = QueryString.frameNumber;
		fps = QueryString.fps;
		pageWidth = QueryString.pageWidth;
		pageHeight = QueryString.pageHeight;

		//Display it on the page
		$("#frameRange").val(frameNumber);
		$("#frameValue").val(frameNumber);

		canvas.width = pageWidth;
		canvas.height = pageHeight;
		console.log("Logging framenumber: " + QueryString.frameNumber);

		//http://localhost:8080/LyricVideo/test1.html?frameNumber=200&fps=60&pageWidth=800&pageHeight=600

		// If a frameNumber has been passed in the URL, only draw that frame, otherwise begin animation
		if (frameNumber > 0) {
			drawIt(ctx, (frameNumber / fps) * 1000, lyricsObject);
		} else {
			window.requestAnimationFrame(step);
		}
		
		
		
	</script>


<div id="backgroundImageContainer"></div>
</body>
</html>